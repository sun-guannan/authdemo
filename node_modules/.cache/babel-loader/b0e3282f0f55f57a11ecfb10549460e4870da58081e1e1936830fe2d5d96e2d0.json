{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nexports.hasOnlyClassicConnections = hasOnlyClassicConnections;\nexports.isSSOEnabled = isSSOEnabled;\nexports.matchesEnterpriseConnection = matchesEnterpriseConnection;\nexports.usernameStyle = usernameStyle;\nvar _index = _interopRequireDefault(require(\"../index\"));\nvar _login = _interopRequireDefault(require(\"./classic/login\"));\nvar _sign_up_screen = _interopRequireDefault(require(\"./classic/sign_up_screen\"));\nvar _mfa_login_screen = _interopRequireDefault(require(\"./classic/mfa_login_screen\"));\nvar _reset_password = _interopRequireDefault(require(\"../connection/database/reset_password\"));\nvar _index2 = _interopRequireWildcard(require(\"../core/sso/index\"));\nvar sso = _index2;\nvar _index3 = require(\"../connection/database/index\");\nvar _enterprise = require(\"../connection/enterprise\");\nvar _tenant = require(\"../core/tenant\");\nvar _email = require(\"../field/email\");\nvar _username = require(\"../field/username\");\nvar l = _interopRequireWildcard(require(\"../core/index\"));\nvar _kerberos_screen = _interopRequireDefault(require(\"../connection/enterprise/kerberos_screen\"));\nvar _hrd_screen = _interopRequireDefault(require(\"../connection/enterprise/hrd_screen\"));\nvar _quick_auth_screen = _interopRequireDefault(require(\"../connection/enterprise/quick_auth_screen\"));\nvar _quick_auth = require(\"../quick_auth\");\nvar _loading_screen = _interopRequireDefault(require(\"../core/loading_screen\"));\nvar _error_screen = _interopRequireDefault(require(\"../core/error_screen\"));\nvar _last_login_screen = _interopRequireDefault(require(\"../core/sso/last_login_screen\"));\nvar _sync = require(\"../sync\");\nvar _index5 = require(\"../field/index\");\nvar _index6 = require(\"../store/index\");\nfunction _getRequireWildcardCache(e) {\n  if (\"function\" != typeof WeakMap) return null;\n  var r = new WeakMap(),\n    t = new WeakMap();\n  return (_getRequireWildcardCache = function _getRequireWildcardCache(e) {\n    return e ? t : r;\n  })(e);\n}\nfunction _interopRequireWildcard(e, r) {\n  if (!r && e && e.__esModule) return e;\n  if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return {\n    default: e\n  };\n  var t = _getRequireWildcardCache(r);\n  if (t && t.has(e)) return t.get(e);\n  var n = {\n      __proto__: null\n    },\n    a = Object.defineProperty && Object.getOwnPropertyDescriptor;\n  for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) {\n    var i = a ? Object.getOwnPropertyDescriptor(e, u) : null;\n    i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u];\n  }\n  return n.default = e, t && t.set(e, n), n;\n}\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _toPropertyKey(t) {\n  var i = _toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nfunction _toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nfunction isSSOEnabled(m, options) {\n  return matchesEnterpriseConnection(m, (0, _index3.databaseUsernameValue)(m, options));\n}\nfunction matchesEnterpriseConnection(m, usernameValue) {\n  return (0, _enterprise.isEnterpriseDomain)(m, usernameValue);\n}\nfunction usernameStyle(m) {\n  return (0, _index3.authWithUsername)(m) && !(0, _enterprise.isADEnabled)(m) ? 'username' : 'email';\n}\nfunction hasOnlyClassicConnections(m) {\n  var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n  for (var _len = arguments.length, strategies = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    strategies[_key - 2] = arguments[_key];\n  }\n  return l.hasOnlyConnections.apply(l, [m, type].concat(strategies)) && !l.hasSomeConnections(m, 'passwordless');\n}\nfunction validateAllowedConnections(m) {\n  var anyDBConnection = l.hasSomeConnections(m, 'database');\n  var anySocialConnection = l.hasSomeConnections(m, 'social');\n  var anyEnterpriseConnection = l.hasSomeConnections(m, 'enterprise');\n  if (!anyDBConnection && !anySocialConnection && !anyEnterpriseConnection) {\n    var error = new Error('At least one database, enterprise or social connection needs to be available.');\n    error.code = 'no_connection';\n    m = l.stop(m, error);\n  } else if (!anyDBConnection && (0, _index3.hasInitialScreen)(m, 'forgotPassword')) {\n    var _error = new Error('The `initialScreen` option was set to \"forgotPassword\" but no database connection is available.');\n    _error.code = 'unavailable_initial_screen';\n    m = l.stop(m, _error);\n  } else if (!anyDBConnection && !anySocialConnection && (0, _index3.hasInitialScreen)(m, 'signUp')) {\n    var _error2 = new Error('The `initialScreen` option was set to \"signUp\" but no database or social connection is available.');\n    _error2.code = 'unavailable_initial_screen';\n    m = l.stop(m, _error2);\n  }\n  if ((0, _tenant.defaultDirectoryName)(m) && !(0, _tenant.defaultDirectory)(m)) {\n    l.error(m, \"The account's default directory \\\"\".concat((0, _tenant.defaultDirectoryName)(m), \"\\\" is not enabled.\"));\n  }\n  if ((0, _index3.defaultDatabaseConnectionName)(m) && !(0, _index3.defaultDatabaseConnection)(m)) {\n    l.warn(m, \"The provided default database connection \\\"\".concat((0, _index3.defaultDatabaseConnectionName)(m), \"\\\" is not enabled.\"));\n  }\n  if ((0, _enterprise.defaultEnterpriseConnectionName)(m) && !(0, _enterprise.defaultEnterpriseConnection)(m)) {\n    l.warn(m, \"The provided default enterprise connection \\\"\".concat((0, _enterprise.defaultEnterpriseConnectionName)(m), \"\\\" is not enabled or does not allow email/password authentication.\"));\n  }\n  return m;\n}\nvar setPrefill = function setPrefill(m) {\n  var _l$prefill$toJS = l.prefill(m).toJS(),\n    email = _l$prefill$toJS.email,\n    username = _l$prefill$toJS.username;\n  if (typeof email === 'string') m = (0, _email.setEmail)(m, email);\n  if (typeof username === 'string') m = (0, _username.setUsername)(m, username, 'username', false);\n  return m;\n};\nfunction createErrorScreen(m, stopError) {\n  setTimeout(function () {\n    (0, _index6.swap)(_index6.updateEntity, 'lock', l.id(m), l.stop, stopError);\n  }, 0);\n  return new _error_screen.default();\n}\nvar Classic = /*#__PURE__*/function () {\n  function Classic() {\n    _classCallCheck(this, Classic);\n  }\n  return _createClass(Classic, [{\n    key: \"didInitialize\",\n    value: function didInitialize(model, options) {\n      model = (0, _index3.initDatabase)(model, options);\n      model = (0, _enterprise.initEnterprise)(model, options);\n      return model;\n    }\n  }, {\n    key: \"didReceiveClientSettings\",\n    value: function didReceiveClientSettings(m) {\n      m = validateAllowedConnections(m);\n      m = setPrefill(m);\n      return m;\n    }\n  }, {\n    key: \"willShow\",\n    value: function willShow(m, opts) {\n      m = (0, _index3.overrideDatabaseOptions)(m, opts);\n      m = (0, _index3.resolveAdditionalSignUpFields)(m);\n      if ((0, _sync.isSuccess)(m, 'client')) {\n        m = validateAllowedConnections(m);\n      }\n      return m;\n    }\n  }, {\n    key: \"render\",\n    value: function render(m) {\n      //if there's an error, we should show the error screen no matter what.\n      if (l.hasStopped(m)) {\n        return new _error_screen.default();\n      }\n\n      // TODO: remove the detail about the loading pane being pinned,\n      // sticky screens should be handled at the box module.\n      if (!(0, _sync.isDone)(m) || m.get('isLoadingPanePinned')) {\n        return new _loading_screen.default();\n      }\n      if ((0, _index3.hasScreen)(m, 'login')) {\n        if (!(0, _quick_auth.hasSkippedQuickAuth)(m) && (0, _index3.hasInitialScreen)(m, 'login')) {\n          if ((0, _enterprise.isInCorpNetwork)(m)) {\n            return new _kerberos_screen.default();\n          }\n          if (l.ui.rememberLastLogin(m)) {\n            var lastUsedConnection = sso.lastUsedConnection(m);\n            var lastUsedUsername = sso.lastUsedUsername(m);\n            if (lastUsedConnection && (0, _sync.isSuccess)(m, 'sso') && l.hasConnection(m, lastUsedConnection.get('name')) && l.findConnection(m, lastUsedConnection.get('name')).get('type') !== 'passwordless') {\n              return new _last_login_screen.default();\n            }\n          }\n        }\n        if ((0, _enterprise.quickAuthConnection)(m)) {\n          return new _quick_auth_screen.default();\n        }\n        if ((0, _enterprise.isHRDActive)(m)) {\n          return new _hrd_screen.default();\n        }\n      }\n      if (!(0, _index3.hasScreen)(m, 'login') && !(0, _index3.hasScreen)(m, 'signUp') && !(0, _index3.hasScreen)(m, 'forgotPassword')) {\n        var errorMessage = 'No available Screen. You have to allow at least one of those screens: `login`, `signUp`or `forgotPassword`.';\n        var noAvailableScreenError = new Error(errorMessage);\n        noAvailableScreenError.code = 'internal_error';\n        noAvailableScreenError.description = errorMessage;\n        return createErrorScreen(m, noAvailableScreenError);\n      }\n      var Screen = Classic.SCREENS[(0, _index3.getScreen)(m)];\n      if (Screen) {\n        return new Screen();\n      }\n      var noScreenError = new Error('Internal error');\n      noScreenError.code = 'internal_error';\n      noScreenError.description = \"Couldn't find a screen \\\"\".concat((0, _index3.getScreen)(m), \"\\\"\");\n      return createErrorScreen(m, noScreenError);\n    }\n  }]);\n}();\n_defineProperty(Classic, \"SCREENS\", {\n  login: _login.default,\n  forgotPassword: _reset_password.default,\n  signUp: _sign_up_screen.default,\n  mfaLogin: _mfa_login_screen.default\n});\nvar _default = exports.default = new Classic();","map":{"version":3,"names":["Object","defineProperty","exports","value","default","hasOnlyClassicConnections","isSSOEnabled","matchesEnterpriseConnection","usernameStyle","_index","_interopRequireDefault","require","_login","_sign_up_screen","_mfa_login_screen","_reset_password","_index2","_interopRequireWildcard","sso","_index3","_enterprise","_tenant","_email","_username","l","_kerberos_screen","_hrd_screen","_quick_auth_screen","_quick_auth","_loading_screen","_error_screen","_last_login_screen","_sync","_index5","_index6","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","_typeof","has","get","n","__proto__","a","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","obj","o","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","length","descriptor","enumerable","configurable","writable","_toPropertyKey","key","_createClass","protoProps","staticProps","_defineProperty","_toPrimitive","toPrimitive","String","Number","m","options","databaseUsernameValue","usernameValue","isEnterpriseDomain","authWithUsername","isADEnabled","type","arguments","undefined","_len","strategies","Array","_key","hasOnlyConnections","apply","concat","hasSomeConnections","validateAllowedConnections","anyDBConnection","anySocialConnection","anyEnterpriseConnection","error","Error","code","stop","hasInitialScreen","_error","_error2","defaultDirectoryName","defaultDirectory","defaultDatabaseConnectionName","defaultDatabaseConnection","warn","defaultEnterpriseConnectionName","defaultEnterpriseConnection","setPrefill","_l$prefill$toJS","prefill","toJS","email","username","setEmail","setUsername","createErrorScreen","stopError","setTimeout","swap","updateEntity","id","Classic","didInitialize","model","initDatabase","initEnterprise","didReceiveClientSettings","willShow","opts","overrideDatabaseOptions","resolveAdditionalSignUpFields","isSuccess","render","hasStopped","isDone","hasScreen","hasSkippedQuickAuth","isInCorpNetwork","ui","rememberLastLogin","lastUsedConnection","lastUsedUsername","hasConnection","findConnection","quickAuthConnection","isHRDActive","errorMessage","noAvailableScreenError","description","Screen","SCREENS","getScreen","noScreenError","login","forgotPassword","signUp","mfaLogin","_default"],"sources":["/Users/sunguannan/VisualStudioProjects/authdemo/node_modules/auth0-lock/lib/engine/classic.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nexports.hasOnlyClassicConnections = hasOnlyClassicConnections;\nexports.isSSOEnabled = isSSOEnabled;\nexports.matchesEnterpriseConnection = matchesEnterpriseConnection;\nexports.usernameStyle = usernameStyle;\nvar _index = _interopRequireDefault(require(\"../index\"));\nvar _login = _interopRequireDefault(require(\"./classic/login\"));\nvar _sign_up_screen = _interopRequireDefault(require(\"./classic/sign_up_screen\"));\nvar _mfa_login_screen = _interopRequireDefault(require(\"./classic/mfa_login_screen\"));\nvar _reset_password = _interopRequireDefault(require(\"../connection/database/reset_password\"));\nvar _index2 = _interopRequireWildcard(require(\"../core/sso/index\"));\nvar sso = _index2;\nvar _index3 = require(\"../connection/database/index\");\nvar _enterprise = require(\"../connection/enterprise\");\nvar _tenant = require(\"../core/tenant\");\nvar _email = require(\"../field/email\");\nvar _username = require(\"../field/username\");\nvar l = _interopRequireWildcard(require(\"../core/index\"));\nvar _kerberos_screen = _interopRequireDefault(require(\"../connection/enterprise/kerberos_screen\"));\nvar _hrd_screen = _interopRequireDefault(require(\"../connection/enterprise/hrd_screen\"));\nvar _quick_auth_screen = _interopRequireDefault(require(\"../connection/enterprise/quick_auth_screen\"));\nvar _quick_auth = require(\"../quick_auth\");\nvar _loading_screen = _interopRequireDefault(require(\"../core/loading_screen\"));\nvar _error_screen = _interopRequireDefault(require(\"../core/error_screen\"));\nvar _last_login_screen = _interopRequireDefault(require(\"../core/sso/last_login_screen\"));\nvar _sync = require(\"../sync\");\nvar _index5 = require(\"../field/index\");\nvar _index6 = require(\"../store/index\");\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != _typeof(e) && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction isSSOEnabled(m, options) {\n  return matchesEnterpriseConnection(m, (0, _index3.databaseUsernameValue)(m, options));\n}\nfunction matchesEnterpriseConnection(m, usernameValue) {\n  return (0, _enterprise.isEnterpriseDomain)(m, usernameValue);\n}\nfunction usernameStyle(m) {\n  return (0, _index3.authWithUsername)(m) && !(0, _enterprise.isADEnabled)(m) ? 'username' : 'email';\n}\nfunction hasOnlyClassicConnections(m) {\n  var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n  for (var _len = arguments.length, strategies = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    strategies[_key - 2] = arguments[_key];\n  }\n  return l.hasOnlyConnections.apply(l, [m, type].concat(strategies)) && !l.hasSomeConnections(m, 'passwordless');\n}\nfunction validateAllowedConnections(m) {\n  var anyDBConnection = l.hasSomeConnections(m, 'database');\n  var anySocialConnection = l.hasSomeConnections(m, 'social');\n  var anyEnterpriseConnection = l.hasSomeConnections(m, 'enterprise');\n  if (!anyDBConnection && !anySocialConnection && !anyEnterpriseConnection) {\n    var error = new Error('At least one database, enterprise or social connection needs to be available.');\n    error.code = 'no_connection';\n    m = l.stop(m, error);\n  } else if (!anyDBConnection && (0, _index3.hasInitialScreen)(m, 'forgotPassword')) {\n    var _error = new Error('The `initialScreen` option was set to \"forgotPassword\" but no database connection is available.');\n    _error.code = 'unavailable_initial_screen';\n    m = l.stop(m, _error);\n  } else if (!anyDBConnection && !anySocialConnection && (0, _index3.hasInitialScreen)(m, 'signUp')) {\n    var _error2 = new Error('The `initialScreen` option was set to \"signUp\" but no database or social connection is available.');\n    _error2.code = 'unavailable_initial_screen';\n    m = l.stop(m, _error2);\n  }\n  if ((0, _tenant.defaultDirectoryName)(m) && !(0, _tenant.defaultDirectory)(m)) {\n    l.error(m, \"The account's default directory \\\"\".concat((0, _tenant.defaultDirectoryName)(m), \"\\\" is not enabled.\"));\n  }\n  if ((0, _index3.defaultDatabaseConnectionName)(m) && !(0, _index3.defaultDatabaseConnection)(m)) {\n    l.warn(m, \"The provided default database connection \\\"\".concat((0, _index3.defaultDatabaseConnectionName)(m), \"\\\" is not enabled.\"));\n  }\n  if ((0, _enterprise.defaultEnterpriseConnectionName)(m) && !(0, _enterprise.defaultEnterpriseConnection)(m)) {\n    l.warn(m, \"The provided default enterprise connection \\\"\".concat((0, _enterprise.defaultEnterpriseConnectionName)(m), \"\\\" is not enabled or does not allow email/password authentication.\"));\n  }\n  return m;\n}\nvar setPrefill = function setPrefill(m) {\n  var _l$prefill$toJS = l.prefill(m).toJS(),\n    email = _l$prefill$toJS.email,\n    username = _l$prefill$toJS.username;\n  if (typeof email === 'string') m = (0, _email.setEmail)(m, email);\n  if (typeof username === 'string') m = (0, _username.setUsername)(m, username, 'username', false);\n  return m;\n};\nfunction createErrorScreen(m, stopError) {\n  setTimeout(function () {\n    (0, _index6.swap)(_index6.updateEntity, 'lock', l.id(m), l.stop, stopError);\n  }, 0);\n  return new _error_screen.default();\n}\nvar Classic = /*#__PURE__*/function () {\n  function Classic() {\n    _classCallCheck(this, Classic);\n  }\n  return _createClass(Classic, [{\n    key: \"didInitialize\",\n    value: function didInitialize(model, options) {\n      model = (0, _index3.initDatabase)(model, options);\n      model = (0, _enterprise.initEnterprise)(model, options);\n      return model;\n    }\n  }, {\n    key: \"didReceiveClientSettings\",\n    value: function didReceiveClientSettings(m) {\n      m = validateAllowedConnections(m);\n      m = setPrefill(m);\n      return m;\n    }\n  }, {\n    key: \"willShow\",\n    value: function willShow(m, opts) {\n      m = (0, _index3.overrideDatabaseOptions)(m, opts);\n      m = (0, _index3.resolveAdditionalSignUpFields)(m);\n      if ((0, _sync.isSuccess)(m, 'client')) {\n        m = validateAllowedConnections(m);\n      }\n      return m;\n    }\n  }, {\n    key: \"render\",\n    value: function render(m) {\n      //if there's an error, we should show the error screen no matter what.\n      if (l.hasStopped(m)) {\n        return new _error_screen.default();\n      }\n\n      // TODO: remove the detail about the loading pane being pinned,\n      // sticky screens should be handled at the box module.\n      if (!(0, _sync.isDone)(m) || m.get('isLoadingPanePinned')) {\n        return new _loading_screen.default();\n      }\n      if ((0, _index3.hasScreen)(m, 'login')) {\n        if (!(0, _quick_auth.hasSkippedQuickAuth)(m) && (0, _index3.hasInitialScreen)(m, 'login')) {\n          if ((0, _enterprise.isInCorpNetwork)(m)) {\n            return new _kerberos_screen.default();\n          }\n          if (l.ui.rememberLastLogin(m)) {\n            var lastUsedConnection = sso.lastUsedConnection(m);\n            var lastUsedUsername = sso.lastUsedUsername(m);\n            if (lastUsedConnection && (0, _sync.isSuccess)(m, 'sso') && l.hasConnection(m, lastUsedConnection.get('name')) && l.findConnection(m, lastUsedConnection.get('name')).get('type') !== 'passwordless') {\n              return new _last_login_screen.default();\n            }\n          }\n        }\n        if ((0, _enterprise.quickAuthConnection)(m)) {\n          return new _quick_auth_screen.default();\n        }\n        if ((0, _enterprise.isHRDActive)(m)) {\n          return new _hrd_screen.default();\n        }\n      }\n      if (!(0, _index3.hasScreen)(m, 'login') && !(0, _index3.hasScreen)(m, 'signUp') && !(0, _index3.hasScreen)(m, 'forgotPassword')) {\n        var errorMessage = 'No available Screen. You have to allow at least one of those screens: `login`, `signUp`or `forgotPassword`.';\n        var noAvailableScreenError = new Error(errorMessage);\n        noAvailableScreenError.code = 'internal_error';\n        noAvailableScreenError.description = errorMessage;\n        return createErrorScreen(m, noAvailableScreenError);\n      }\n      var Screen = Classic.SCREENS[(0, _index3.getScreen)(m)];\n      if (Screen) {\n        return new Screen();\n      }\n      var noScreenError = new Error('Internal error');\n      noScreenError.code = 'internal_error';\n      noScreenError.description = \"Couldn't find a screen \\\"\".concat((0, _index3.getScreen)(m), \"\\\"\");\n      return createErrorScreen(m, noScreenError);\n    }\n  }]);\n}();\n_defineProperty(Classic, \"SCREENS\", {\n  login: _login.default,\n  forgotPassword: _reset_password.default,\n  signUp: _sign_up_screen.default,\n  mfaLogin: _mfa_login_screen.default\n});\nvar _default = exports.default = new Classic();\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}